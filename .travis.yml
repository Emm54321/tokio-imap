sudo: false
language: rust
rust:
  - stable
  - beta
  - nightly
cache: cargo

before_script:
  - if [[ "$TRAVIS_RUST_VERSION" == stable ]]; then
      rustup component add rustfmt;
    fi

script:
- cargo test --all
- if [[ "${TRAVIS_RUST_VERSION}" == stable ]]; then
    cargo fmt -- --check;
  fi
